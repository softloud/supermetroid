<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="supermetroid">
<title>splits • supermetroid</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="splits">
<meta property="og:description" content="supermetroid">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">supermetroid</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/data-schema.html">data-schema</a>
    <a class="dropdown-item" href="../articles/identifying-routes.html">identifying-routes</a>
    <a class="dropdown-item" href="../articles/player-locations.html">player-locations</a>
    <a class="dropdown-item" href="../articles/player-rank.html">sio-player-rank</a>
    <a class="dropdown-item" href="../articles/route-graph.html">route-graph</a>
    <a class="dropdown-item" href="../articles/route-matching.html">route-matching</a>
    <a class="dropdown-item" href="../articles/sio.html">sio</a>
    <a class="dropdown-item" href="../articles/splits.html">splits</a>
    <a class="dropdown-item" href="../articles/src.html">src</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>splits</h1>
            
      
      
      <div class="d-none name"><code>splits.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://softloud.github.io/supermetroid/">supermetroid</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gt.rstudio.com/" class="external-link">gt</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="this-document-updates-splitsio-df-for-the-analysis">This document updates splitsio df for the analysis<a class="anchor" aria-label="anchor" href="#this-document-updates-splitsio-df-for-the-analysis"></a>
</h3>
</div>
<div class="section level3">
<h3 id="get-segment-labels">Get segment labels<a class="anchor" aria-label="anchor" href="#get-segment-labels"></a>
</h3>
<p>Splits, or segments, measure at what time a game event happens, and
how long a player took to get there from their previous segment.</p>
<div class="section level4">
<h4 id="unique-split-id">Unique split id?<a class="anchor" aria-label="anchor" href="#unique-split-id"></a>
</h4>
<p>Although segments are chosen by a program, so far we’ve only found
the player labels for each split or segment. Players can define their
own segments and labels, too, so we don’t want to confuse those points
with others.</p>
<p>On the other hand we don’t want to keep <code>bomb</code> and throw
out all the <code>bombs</code> with the bathwater.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">labels_dat</span> <span class="op">&lt;-</span> </span>
<span>  <span class="co"># pull columns for this analysis from splits data</span></span>
<span>  <span class="va">sio_splits_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">player_name</span>, <span class="va">game_event</span>, <span class="va">name</span>, <span class="va">segment_number</span>, <span class="va">run_id</span>, <span class="va">player_id</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    <span class="co"># create a lower-case label </span></span>
<span>    label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">game_event</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="va">labels_dat</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   player_name           game_event                 name segment_number run_id</span></span>
<span><span class="co">#&gt; 0  anatomecha        Morphing Ball        Morphing Ball              0   ato1</span></span>
<span><span class="co">#&gt; 1  anatomecha       First Missiles       First Missiles              1   ato1</span></span>
<span><span class="co">#&gt; 2  anatomecha                 Bomb                 Bomb              2   ato1</span></span>
<span><span class="co">#&gt; 3  anatomecha First Super Missiles First Super Missiles              3   ato1</span></span>
<span><span class="co">#&gt; 4  anatomecha          Charge Beam          Charge Beam              4   ato1</span></span>
<span><span class="co">#&gt; 5  anatomecha               Spazer               Spazer              5   ato1</span></span>
<span><span class="co">#&gt;   player_id                label</span></span>
<span><span class="co">#&gt; 0     89646        morphing ball</span></span>
<span><span class="co">#&gt; 1     89646       first missiles</span></span>
<span><span class="co">#&gt; 2     89646                 bomb</span></span>
<span><span class="co">#&gt; 3     89646 first super missiles</span></span>
<span><span class="co">#&gt; 4     89646          charge beam</span></span>
<span><span class="co">#&gt; 5     89646               spazer</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="most-common-labels">Most common labels<a class="anchor" aria-label="anchor" href="#most-common-labels"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">label_counts</span> <span class="op">&lt;-</span> </span>
<span><span class="va">labels_dat</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    starts_with <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_sub.html" class="external-link">str_sub</a></span><span class="op">(</span><span class="va">label</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">starts_with</span>, <span class="va">label</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">starts_with</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">label_counts</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">starts_with</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>  </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">30</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="dwmrgmnati" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#dwmrgmnati table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#dwmrgmnati thead, #dwmrgmnati tbody, #dwmrgmnati tfoot, #dwmrgmnati tr, #dwmrgmnati td, #dwmrgmnati th {
  border-style: none;
}

#dwmrgmnati p {
  margin: 0;
  padding: 0;
}

#dwmrgmnati .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#dwmrgmnati .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#dwmrgmnati .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#dwmrgmnati .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#dwmrgmnati .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dwmrgmnati .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dwmrgmnati .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dwmrgmnati .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#dwmrgmnati .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#dwmrgmnati .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#dwmrgmnati .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#dwmrgmnati .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#dwmrgmnati .gt_spanner_row {
  border-bottom-style: hidden;
}

#dwmrgmnati .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#dwmrgmnati .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#dwmrgmnati .gt_from_md > :first-child {
  margin-top: 0;
}

#dwmrgmnati .gt_from_md > :last-child {
  margin-bottom: 0;
}

#dwmrgmnati .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#dwmrgmnati .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#dwmrgmnati .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#dwmrgmnati .gt_row_group_first td {
  border-top-width: 2px;
}

#dwmrgmnati .gt_row_group_first th {
  border-top-width: 2px;
}

#dwmrgmnati .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dwmrgmnati .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#dwmrgmnati .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#dwmrgmnati .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dwmrgmnati .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dwmrgmnati .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#dwmrgmnati .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#dwmrgmnati .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#dwmrgmnati .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dwmrgmnati .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dwmrgmnati .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dwmrgmnati .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dwmrgmnati .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dwmrgmnati .gt_left {
  text-align: left;
}

#dwmrgmnati .gt_center {
  text-align: center;
}

#dwmrgmnati .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dwmrgmnati .gt_font_normal {
  font-weight: normal;
}

#dwmrgmnati .gt_font_bold {
  font-weight: bold;
}

#dwmrgmnati .gt_font_italic {
  font-style: italic;
}

#dwmrgmnati .gt_super {
  font-size: 65%;
}

#dwmrgmnati .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#dwmrgmnati .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#dwmrgmnati .gt_indent_1 {
  text-indent: 5px;
}

#dwmrgmnati .gt_indent_2 {
  text-indent: 10px;
}

#dwmrgmnati .gt_indent_3 {
  text-indent: 15px;
}

#dwmrgmnati .gt_indent_4 {
  text-indent: 20px;
}

#dwmrgmnati .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="label">label</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="n">n</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="label" class="gt_row gt_left">space jump</td>
<td headers="n" class="gt_row gt_right">411</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">screw attack</td>
<td headers="n" class="gt_row gt_right">360</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">bombs</td>
<td headers="n" class="gt_row gt_right">339</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">gravity suit</td>
<td headers="n" class="gt_row gt_right">326</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">phantoon</td>
<td headers="n" class="gt_row gt_right">294</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">plasma beam</td>
<td headers="n" class="gt_row gt_right">271</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">speed booster</td>
<td headers="n" class="gt_row gt_right">262</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">varia suit</td>
<td headers="n" class="gt_row gt_right">259</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">spring ball</td>
<td headers="n" class="gt_row gt_right">257</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">wave beam</td>
<td headers="n" class="gt_row gt_right">252</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">ice beam</td>
<td headers="n" class="gt_row gt_right">248</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">charge beam</td>
<td headers="n" class="gt_row gt_right">231</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">grapple beam</td>
<td headers="n" class="gt_row gt_right">207</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">spazer</td>
<td headers="n" class="gt_row gt_right">203</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">x-ray</td>
<td headers="n" class="gt_row gt_right">203</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">golden 4</td>
<td headers="n" class="gt_row gt_right">154</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">varia</td>
<td headers="n" class="gt_row gt_right">154</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">morph ball</td>
<td headers="n" class="gt_row gt_right">153</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">ridley e-tank</td>
<td headers="n" class="gt_row gt_right">143</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">ridley</td>
<td headers="n" class="gt_row gt_right">142</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">g4</td>
<td headers="n" class="gt_row gt_right">119</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">ridley's e-tank</td>
<td headers="n" class="gt_row gt_right">115</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">x-ray scope</td>
<td headers="n" class="gt_row gt_right">115</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">botwoon</td>
<td headers="n" class="gt_row gt_right">113</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">turtle e-tank</td>
<td headers="n" class="gt_row gt_right">113</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">grapple</td>
<td headers="n" class="gt_row gt_right">112</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">golden four</td>
<td headers="n" class="gt_row gt_right">105</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">gravity</td>
<td headers="n" class="gt_row gt_right">105</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">escape!</td>
<td headers="n" class="gt_row gt_right">96</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">kraid</td>
<td headers="n" class="gt_row gt_right">94</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># write labels to sheet for labelling </span></span>
<span><span class="co"># https://docs.google.com/spreadsheets/d/1FRHsS7WQvVhI5_yP-twHCJW2YRJRbeKg4P42EY3Jzrk/edit#gid=1079532092</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">label_counts</span>, <span class="st">"data-raw/sio-label-counts.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">relabels</span> <span class="op">&lt;-</span> <span class="fu">googlesheets4</span><span class="fu">::</span><span class="fu"><a href="https://googlesheets4.tidyverse.org/reference/range_read.html" class="external-link">read_sheet</a></span><span class="op">(</span><span class="st">"https://docs.google.com/spreadsheets/d/1FRHsS7WQvVhI5_yP-twHCJW2YRJRbeKg4P42EY3Jzrk/edit#gid=1079532092"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">relabels</span>, <span class="st">"data-raw/sio-relabels.csv"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="add-labels">Add labels<a class="anchor" aria-label="anchor" href="#add-labels"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">relabels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"data-raw/sio-relabels.csv"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">label</span>, <span class="va">supermetroid_label</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error: 'data-raw/sio-relabels.csv' does not exist in current working directory ('/home/runner/work/supermetroid/supermetroid/vignettes').</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">sio_relabelled</span> <span class="op">&lt;-</span> </span>
<span><span class="va">sio_splits_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">game_event</span><span class="op">)</span>,</span>
<span>    label <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span></span>
<span>      <span class="va">label</span> <span class="op">==</span> <span class="st">"grappling beam"</span>, <span class="st">"grapple beam"</span>, <span class="va">label</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">relabels</span>, by <span class="op">=</span> <span class="st">"label"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error: object 'relabels' not found</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># check out counts now</span></span>
<span><span class="va">sio_relabelled</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">label</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'sio_relabelled' not found</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sio_df</span> <span class="op">&lt;-</span> <span class="va">sio_relabelled</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">name</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">supermetroid_label</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span>, split_player <span class="op">=</span> <span class="va">label</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'sio_relabelled' not found</span></span>
<span></span>
<span><span class="va">sio_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   supermetroid_label player_name           game_event segment_number</span></span>
<span><span class="co">#&gt; 1         morph ball  anatomecha        Morphing Ball              0</span></span>
<span><span class="co">#&gt; 2               &lt;NA&gt;  anatomecha       First Missiles              1</span></span>
<span><span class="co">#&gt; 3              bombs  anatomecha                 Bomb              2</span></span>
<span><span class="co">#&gt; 4               &lt;NA&gt;  anatomecha First Super Missiles              3</span></span>
<span><span class="co">#&gt; 5        charge beam  anatomecha          Charge Beam              4</span></span>
<span><span class="co">#&gt; 6             spazer  anatomecha               Spazer              5</span></span>
<span><span class="co">#&gt;   realtime_start_ms                           segment_id run_id player_id</span></span>
<span><span class="co">#&gt; 1                 0 69d90da3-1634-4af4-9096-419a32bedd0a   ato1     89646</span></span>
<span><span class="co">#&gt; 2            200835 fad50319-d55b-460e-923a-c416f233daea   ato1     89646</span></span>
<span><span class="co">#&gt; 3            224926 089daf0b-64c3-4eec-8902-022335b2b179   ato1     89646</span></span>
<span><span class="co">#&gt; 4            358321 2a215dcd-2989-4939-8558-a7215904dfd1   ato1     89646</span></span>
<span><span class="co">#&gt; 5            589662 e906991d-e919-47c1-a809-2b4da9b67461   ato1     89646</span></span>
<span><span class="co">#&gt; 6            709962 10439232-43c7-4752-afb9-ee23782da4a9   ato1     89646</span></span>
<span><span class="co">#&gt;   realtime_duration_ms realtime_end_ms realtime_shortest_duration_ms</span></span>
<span><span class="co">#&gt; 1               200835          200835                        200835</span></span>
<span><span class="co">#&gt; 2                24091          224926                         23286</span></span>
<span><span class="co">#&gt; 3               133395          358321                        129371</span></span>
<span><span class="co">#&gt; 4               231341          589662                        227335</span></span>
<span><span class="co">#&gt; 5               120300          709962                        120299</span></span>
<span><span class="co">#&gt; 6                97876          807838                         95884</span></span>
<span><span class="co">#&gt;   realtime_gold         split_player                split</span></span>
<span><span class="co">#&gt; 1          TRUE        morphing ball        morphing ball</span></span>
<span><span class="co">#&gt; 2         FALSE       first missiles       first missiles</span></span>
<span><span class="co">#&gt; 3         FALSE                 bomb                 bomb</span></span>
<span><span class="co">#&gt; 4         FALSE first super missiles first super missiles</span></span>
<span><span class="co">#&gt; 5         FALSE          charge beam          charge beam</span></span>
<span><span class="co">#&gt; 6         FALSE               spazer               spazer</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu">use_data</span><span class="op">(</span><span class="va">sio_df</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="what-routes-do-people-take">What routes do people take?<a class="anchor" aria-label="anchor" href="#what-routes-do-people-take"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">routes_raw</span> <span class="op">&lt;-</span> </span>
<span><span class="va">sio_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">supermetroid_label</span>, <span class="va">player_name</span>, split_order <span class="op">=</span> <span class="va">segment_number</span>, <span class="va">realtime_end_ms</span>, <span class="va">run_id</span>, <span class="va">player_id</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co"># get just the universal splits</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">supermetroid_label</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">splits_orders</span> <span class="op">&lt;-</span> </span>
<span><span class="va">routes_raw</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">supermetroid_label</span>, <span class="va">split_order</span>, <span class="va">run_id</span><span class="op">)</span></span>
<span></span>
<span><span class="va">nested_splits</span> <span class="op">&lt;-</span> </span>
<span><span class="va">splits_orders</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">run_id</span>, <span class="va">split_order</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">split_order</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">run_id</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html" class="external-link">nest</a></span><span class="op">(</span>splits <span class="op">=</span> <span class="va">supermetroid_label</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">splits</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html" class="external-link">nest</a></span><span class="op">(</span>runs <span class="op">=</span> <span class="va">run_id</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    route_length <span class="op">=</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_int</a></span><span class="op">(</span><span class="va">splits</span>, <span class="va">nrow</span><span class="op">)</span>,</span>
<span>    route_id <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_c.html" class="external-link">str_c</a></span><span class="op">(</span><span class="st">"route "</span>, <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">route_length</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span><span class="va">nested_splits</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="msxhppsyug" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#msxhppsyug table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#msxhppsyug thead, #msxhppsyug tbody, #msxhppsyug tfoot, #msxhppsyug tr, #msxhppsyug td, #msxhppsyug th {
  border-style: none;
}

#msxhppsyug p {
  margin: 0;
  padding: 0;
}

#msxhppsyug .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#msxhppsyug .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#msxhppsyug .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#msxhppsyug .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#msxhppsyug .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#msxhppsyug .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#msxhppsyug .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#msxhppsyug .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#msxhppsyug .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#msxhppsyug .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#msxhppsyug .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#msxhppsyug .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#msxhppsyug .gt_spanner_row {
  border-bottom-style: hidden;
}

#msxhppsyug .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#msxhppsyug .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#msxhppsyug .gt_from_md > :first-child {
  margin-top: 0;
}

#msxhppsyug .gt_from_md > :last-child {
  margin-bottom: 0;
}

#msxhppsyug .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#msxhppsyug .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#msxhppsyug .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#msxhppsyug .gt_row_group_first td {
  border-top-width: 2px;
}

#msxhppsyug .gt_row_group_first th {
  border-top-width: 2px;
}

#msxhppsyug .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#msxhppsyug .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#msxhppsyug .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#msxhppsyug .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#msxhppsyug .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#msxhppsyug .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#msxhppsyug .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#msxhppsyug .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#msxhppsyug .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#msxhppsyug .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#msxhppsyug .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#msxhppsyug .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#msxhppsyug .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#msxhppsyug .gt_left {
  text-align: left;
}

#msxhppsyug .gt_center {
  text-align: center;
}

#msxhppsyug .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#msxhppsyug .gt_font_normal {
  font-weight: normal;
}

#msxhppsyug .gt_font_bold {
  font-weight: bold;
}

#msxhppsyug .gt_font_italic {
  font-style: italic;
}

#msxhppsyug .gt_super {
  font-size: 65%;
}

#msxhppsyug .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#msxhppsyug .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#msxhppsyug .gt_indent_1 {
  text-indent: 5px;
}

#msxhppsyug .gt_indent_2 {
  text-indent: 10px;
}

#msxhppsyug .gt_indent_3 {
  text-indent: 15px;
}

#msxhppsyug .gt_indent_4 {
  text-indent: 20px;
}

#msxhppsyug .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="splits">splits</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="runs">runs</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="route_length">route_length</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="route_id">route_id</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="splits" class="gt_row gt_center">c("morph ball", "bombs", "first supers", "charge beam", "kraid", "varia suit", "hi-jump boots", "speed booster", "wave beam", "crocomire", "grapple beam", "ice beam", "phantoon", "gravity suit", "gauntlet e-tank", "spore spawn supers", "spore spawn supers", "draygon", "space jump", "spring ball", "plasma beam", "screw attack", "x-ray", "golden 4", "golden 4", "kraid", "phantoon", "draygon", "ridley")</td>
<td headers="runs" class="gt_row gt_center">zwv</td>
<td headers="route_length" class="gt_row gt_right">29</td>
<td headers="route_id" class="gt_row gt_left">route 167</td>
</tr>
<tr>
<td headers="splits" class="gt_row gt_center">c("ridley", "morph ball", "bombs", "first supers", "charge beam", "spazer", "kraid", "varia suit", "hi-jump boots", "speed booster", "wave beam", "crocomire", "grapple beam", "ice beam", "phantoon", "gravity suit", "spore spawn supers", "draygon", "space jump", "spring ball", "plasma beam", "screw attack", "ridley", "x-ray")</td>
<td headers="runs" class="gt_row gt_center">c("2h20", "2h5x", "2l5q", "2q6n", "30jr", "3b65", "3vjk", "40wo", "47j9", "56yj", "5hht", "5ykr")</td>
<td headers="route_length" class="gt_row gt_right">24</td>
<td headers="route_id" class="gt_row gt_left">route 29</td>
</tr>
<tr>
<td headers="splits" class="gt_row gt_center">c("morph ball", "bombs", "first supers", "charge beam", "spazer", "kraid", "varia suit", "hi-jump boots", "speed booster", "wave beam", "grapple beam", "phantoon", "gravity suit", "spore spawn supers", "draygon", "space jump", "spring ball", "plasma beam", "ice beam", "screw attack", "ridley", "x-ray", "golden 4", "escape")</td>
<td headers="runs" class="gt_row gt_center">amcl</td>
<td headers="route_length" class="gt_row gt_right">24</td>
<td headers="route_id" class="gt_row gt_left">route 159</td>
</tr>
<tr>
<td headers="splits" class="gt_row gt_center">c("morph ball", "bombs", "charge beam", "spazer", "kraid", "varia suit", "hi-jump boots", "speed booster", "wave beam", "grapple beam", "ice beam", "phantoon", "gravity suit", "draygon", "space jump", "spring ball", "plasma beam", "screw attack", "ridley", "x-ray", "mother brain", "escape")</td>
<td headers="runs" class="gt_row gt_center">ato1</td>
<td headers="route_length" class="gt_row gt_right">22</td>
<td headers="route_id" class="gt_row gt_left">route 162</td>
</tr>
<tr>
<td headers="splits" class="gt_row gt_center">c("morph ball", "first supers", "charge beam", "spazer", "kraid", "varia suit", "hi-jump boots", "speed booster", "wave beam", "crocomire", "grapple beam", "phantoon", "spore spawn supers", "draygon", "space jump", "spring ball", "plasma beam", "ice beam", "screw attack", "ridley", "x-ray")</td>
<td headers="runs" class="gt_row gt_center">c("5g6d", "5g6e")</td>
<td headers="route_length" class="gt_row gt_right">21</td>
<td headers="route_id" class="gt_row gt_left">route 86</td>
</tr>
<tr>
<td headers="splits" class="gt_row gt_center">c("morph ball", "bombs", "spazer", "kraid", "varia suit", "hi-jump boots", "wave beam", "crocomire", "grapple beam", "phantoon", "gravity suit", "spore spawn supers", "draygon", "space jump", "plasma beam", "ice beam", "screw attack", "ridley", "x-ray", "golden 4", "mother brain")</td>
<td headers="runs" class="gt_row gt_center">6zvk</td>
<td headers="route_length" class="gt_row gt_right">21</td>
<td headers="route_id" class="gt_row gt_left">route 107</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">anatomecha_splits</span> <span class="op">&lt;-</span></span>
<span>  <span class="co"># get standard order</span></span>
<span>  <span class="va">sio_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">player_name</span> <span class="op">==</span> <span class="st">"anatomecha"</span>,<span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">supermetroid_label</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">segment_number</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># should really filter to last date</span></span>
<span>  <span class="co"># will need to fix this when there's more than one anatomecha run</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">supermetroid_label</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>split_anatomecha <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">sio_df</span><span class="op">$</span><span class="va">split</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">anatomecha_splits</span><span class="op">$</span><span class="va">split</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">usethis</span><span class="fu">::</span><span class="fu">use_data</span><span class="op">(</span><span class="va">anatomecha_splits</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">routes</span> <span class="op">&lt;-</span> </span>
<span><span class="va">nested_splits</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># head() %&gt;% </span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>event <span class="op">=</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">splits</span>, \<span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">anatomecha_splits</span>, by <span class="op">=</span> <span class="st">"supermetroid_label"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         route_anatomecha <span class="op">=</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">event</span>, \<span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">split_anatomecha</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">split_anatomecha</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         route_standard <span class="op">=</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_lgl</a></span><span class="op">(</span><span class="va">route_anatomecha</span>,</span>
<span>                                  \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">==</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span>         <span class="op">)</span></span>
<span></span>
<span> </span></code></pre></div>
</div>
<div class="section level3">
<h3 id="time-vs-cumulative-time-by-splits">time vs cumulative time by splits<a class="anchor" aria-label="anchor" href="#time-vs-cumulative-time-by-splits"></a>
</h3>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># dashboard this for y axis</span></span>
<span><span class="co"># dashboard this for x axis, too selector tool with tick boxes, select all, clear</span></span>
<span></span>
<span><span class="co"># plot &lt;- </span></span>
<span>  <span class="va">sio_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">anatomecha_splits</span>, by <span class="op">=</span> <span class="st">"supermetroid_label"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">supermetroid_label</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>split_anatomecha <span class="op">=</span> <span class="fu"><a href="https://forcats.tidyverse.org/reference/as_factor.html" class="external-link">as_factor</a></span><span class="op">(</span><span class="va">split_anatomecha</span><span class="op">)</span>,</span>
<span>         t_h <span class="op">=</span> <span class="va">realtime_end_ms</span><span class="op">/</span><span class="fl">1000</span><span class="op">/</span><span class="fl">60</span></span>
<span>         <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">split_anatomecha</span>, y <span class="op">=</span> <span class="va">t_h</span>, group<span class="op">=</span><span class="va">run_id</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>colour<span class="op">=</span><span class="va">sm_cols</span><span class="op">$</span><span class="va">orange</span>, alpha <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>colour<span class="op">=</span><span class="va">sm_cols</span><span class="op">$</span><span class="va">orange</span>, alpha <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/theme_sm.html">theme_sm</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">30</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Players take different routes"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"Real time completion of each game event would be </span></span>
<span><span class="st">      always increasing if all players took the same route as anatomecha"</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_wrap.html" class="external-link">str_wrap</a></span><span class="op">(</span><span class="fl">60</span><span class="op">)</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Game event (loot, boss, etc.)"</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_wrap.html" class="external-link">str_wrap</a></span><span class="op">(</span><span class="fl">12</span><span class="op">)</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Real time completion (minutes)"</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_wrap.html" class="external-link">str_wrap</a></span><span class="op">(</span><span class="fl">20</span><span class="op">)</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"splits.io"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle<span class="op">=</span><span class="fl">90</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html" class="external-link">scale_x_discrete</a></span><span class="op">(</span>labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"start"</span>, <span class="va">anatomecha_splits</span><span class="op">$</span><span class="va">supermetroid_label</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html" class="external-link">facet_grid</a></span><span class="op">(</span><span class="va">route_standard</span> <span class="op">~</span><span class="va">.</span> <span class="op">)</span> </span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `combine_vars()`:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> At least one layer must contain all faceting variables:</span></span>
<span><span class="co">#&gt;   `route_standard`</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> Plot is missing `route_standard`</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> Layer 1 is missing `route_standard`</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> Layer 2 is missing `route_standard`</span></span>
<span></span>
<span><span class="co"># ggplotly(plot)</span></span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># selected_split &lt;- "ice beam" </span></span>
<span><span class="va">selected_split</span> <span class="op">&lt;-</span> <span class="st">"ice beam"</span><span class="co"># sample(anatomecha_splits$supermetroid_label, 1)</span></span>
<span><span class="va">rank</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">25</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#xlim &lt;- c(0.8, 1.2)</span></span>
<span></span>
<span><span class="co"># +</span></span>
<span><span class="co">#   xlim(xlim[1], xlim[2])</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="towards-the-best-route">Towards the best route<a class="anchor" aria-label="anchor" href="#towards-the-best-route"></a>
</h2>
<div class="section level3">
<h3 id="identifying-clusters">identifying clusters<a class="anchor" aria-label="anchor" href="#identifying-clusters"></a>
</h3>
<div class="section level4">
<h4 id="try-knn">Try <a href="https://stats.stackexchange.com/questions/318968/knn-and-k-folding-in-r" class="external-link">knn</a><a class="anchor" aria-label="anchor" href="#try-knn"></a>
</h4>
<p>Wide-form array: - columns as events - rows as routes - values as
mean event time</p>
<p>I think this should work on individual observations.</p>
<ol style="list-style-type: decimal">
<li>Get an array of segments</li>
<li>Set an n-fold cross validation</li>
<li>Evaluated the accuracy of the KNn classifer with different values of
k by cross validation</li>
</ol>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get an array of segments</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="identifying-clusters-1">identifying clusters<a class="anchor" aria-label="anchor" href="#identifying-clusters-1"></a>
</h3>
<p>Try taking the mean value of each event of each route, then imputing
the missing values from local means. How to impute via local mean? That
is, need to impute, conditional on the other values in the array. Need
to read about imputation. Perhaps I should just write my own imputation,
I think I could calculate that. Then apply hierarchical clustering to
find out which.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create wideform array</span></span>
<span><span class="va">routes_wide</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">routes_raw</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>game_event <span class="op">=</span> <span class="va">supermetroid_label</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">run_id</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">realtime_end_ms</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">realtime_end_ms</span><span class="op">)</span>,</span>
<span>           <span class="va">game_event</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">anatomecha_splits</span><span class="op">$</span><span class="va">supermetroid_label</span></span>
<span>           <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="co"># dplyr::group_by(run_id, game_event) %&gt;%</span></span>
<span>    <span class="co"># dplyr::summarise(n = dplyr::n(), .groups = "drop") %&gt;%</span></span>
<span>    <span class="co"># dplyr::filter(n &gt; 1L) </span></span>
<span>    <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span>id_cols <span class="op">=</span> <span class="st">"run_id"</span>, </span>
<span>                names_from <span class="op">=</span> <span class="st">"game_event"</span>, </span>
<span>                values_from <span class="op">=</span> <span class="st">"realtime_end_ms"</span><span class="op">)</span> </span>
<span></span>
<span>  </span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/topepo/caret/" class="external-link">caret</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in library(caret): there is no package called 'caret'</span></span>
<span></span>
<span><span class="va">trControl</span> <span class="op">&lt;-</span> <span class="fu">trainControl</span><span class="op">(</span>method  <span class="op">=</span> <span class="st">"cv"</span>,</span>
<span>                          number  <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in trainControl(method = "cv", number = 5): could not find function "trainControl"</span></span>
<span></span>
<span></span>
<span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">train</span><span class="op">(</span><span class="va">supermetroid_label</span> <span class="op">~</span> <span class="va">realtime_end_ms</span>,</span>
<span>             method     <span class="op">=</span> <span class="st">"knn"</span>,</span>
<span>             tuneGrid   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>k <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>,</span>
<span>             trControl  <span class="op">=</span> <span class="va">trControl</span>,</span>
<span>             metric     <span class="op">=</span> <span class="st">"Accuracy"</span>,</span>
<span>             data       <span class="op">=</span> <span class="va">routes_raw</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in train(supermetroid_label ~ realtime_end_ms, method = "knn", tuneGrid = expand.grid(k = 1:10), : could not find function "train"</span></span></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">routes_wide</span> <span class="op">&lt;-</span> </span>
<span><span class="va">routes</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">route_id</span>, <span class="va">runs</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="va">runs</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">sio_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">split</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">anatomecha_splits</span><span class="op">$</span><span class="va">supermetroid_label</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">run_id</span>,</span>
<span>                     <span class="va">realtime_end_ms</span>, <span class="va">split</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">run_id</span>, <span class="va">split</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">realtime_end_ms</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">realtime_end_ms</span><span class="op">)</span><span class="op">)</span>, </span>
<span>            by <span class="op">=</span> <span class="st">"run_id"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">route_id</span>, <span class="va">run_id</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co"># 0 entries must be corrupt?</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">realtime_end_ms</span> <span class="op">!=</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span>names_from <span class="op">=</span> <span class="st">"split"</span>, values_from <span class="op">=</span> <span class="st">"realtime_end_ms"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://sfirke.github.io/janitor/reference/clean_names.html" class="external-link">clean_names</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sio_routes_wide</span> <span class="op">&lt;-</span> <span class="va">routes_wide</span></span>
<span></span>
<span><span class="fu">usethis</span><span class="fu">::</span><span class="fu">use_data</span><span class="op">(</span><span class="va">sio_routes_wide</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/topepo/caret/" class="external-link">caret</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in library(caret): there is no package called 'caret'</span></span>
<span></span>
<span><span class="va">preProcValues</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">preProcess</span><span class="op">(</span><span class="va">routes_wide</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">run_id</span>, <span class="va">route_id</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in preProcess(routes_wide %&gt;% ungroup() %&gt;% select(-c(run_id, route_id))): could not find function "preProcess"</span></span>
<span></span>
<span><span class="va">trControl</span> <span class="op">&lt;-</span> <span class="fu">trainControl</span><span class="op">(</span>method  <span class="op">=</span> <span class="st">"cv"</span>,</span>
<span>                          number  <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in trainControl(method = "cv", number = 5): could not find function "trainControl"</span></span>
<span></span>
<span><span class="co"># routes_wide %&gt;% names() %&gt;% paste(collapse ="+") %&gt;%  cat()</span></span>
<span><span class="va">fit</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">train</span><span class="op">(</span></span>
<span>    <span class="va">route_id</span> <span class="op">~</span> <span class="va">morph_ball</span> <span class="op">+</span> <span class="va">bombs</span> <span class="op">+</span></span>
<span>      <span class="va">charge_beam</span> <span class="op">+</span> <span class="va">varia_suit</span> <span class="op">+</span> <span class="va">speed_booster</span> <span class="op">+</span></span>
<span>      <span class="va">wave_beam</span> <span class="op">+</span> <span class="va">grapple_beam</span> <span class="op">+</span> <span class="va">ice_beam</span> <span class="op">+</span> <span class="va">gravity_suit</span> <span class="op">+</span></span>
<span>      <span class="va">space_jump</span> <span class="op">+</span> <span class="va">spring_ball</span> <span class="op">+</span></span>
<span>      <span class="va">plasma_beam</span> <span class="op">+</span> <span class="va">screw_attack</span> <span class="op">+</span> <span class="va">spazer</span> <span class="op">+</span></span>
<span>      <span class="va">hi_jump_boots</span> <span class="op">+</span> <span class="va">phantoon</span> <span class="op">+</span> <span class="va">draygon</span> <span class="op">+</span></span>
<span>      <span class="va">ridley</span> <span class="op">+</span> <span class="va">kraid</span> <span class="op">+</span> <span class="va">x_ray</span> <span class="op">+</span> <span class="va">mother_brain</span> <span class="op">+</span> <span class="va">escape</span>,</span>
<span>    method     <span class="op">=</span> <span class="st">"knn"</span>,</span>
<span>    tuneGrid   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>k <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>,</span>
<span>    trControl  <span class="op">=</span> <span class="va">trControl</span>,</span>
<span>    metric     <span class="op">=</span> <span class="st">"Accuracy"</span>,</span>
<span>    data       <span class="op">=</span> <span class="va">routes_wide</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; Error in train(route_id ~ morph_ball + bombs + charge_beam + varia_suit + : could not find function "train"</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">preProcValues</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'preProcValues' not found</span></span></code></pre></div>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ice_beam</span> <span class="op">&lt;-</span> </span>
<span><span class="va">routes_wide</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">route_id</span>, <span class="va">route_id</span>, <span class="va">ice_beam</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">route_id</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span></span>
<span>    ice_beam <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">ice_beam</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">ice_beam</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="co">#&gt; Adding missing grouping variables: `run_id`</span></span>
<span></span>
<span><span class="va">clusters</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/dist.html" class="external-link">dist</a></span><span class="op">(</span><span class="va">ice_beam</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/hclust.html" class="external-link">hclust</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in dist(ice_beam): NAs introduced by coercion</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">clusters</span>, labels <span class="op">=</span> <span class="va">ice_beam</span><span class="op">$</span><span class="va">route_id</span><span class="op">)</span></span></code></pre></div>
<p><img src="splits_files/figure-html/unnamed-chunk-25-1.png" width="768" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/andrie/ggdendro" class="external-link">ggdendro</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/ggdendro/man/ggdendrogram.html" class="external-link">ggdendrogram</a></span><span class="op">(</span><span class="va">clusters</span><span class="op">)</span></span></code></pre></div>
<p><img src="splits_files/figure-html/unnamed-chunk-26-1.png" width="768" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># fuckit write csv</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">routes_wide</span>, <span class="st">"dev/routes_wide.csv"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error: Cannot open file for writing:</span></span>
<span><span class="co">#&gt; * 'dev/routes_wide.csv'</span></span></code></pre></div>
<div class="sourceCode" id="cb27"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; No module named 'numpy'</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.impute <span class="im">import</span> KNNImputer</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; No module named 'sklearn'</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>routes_wide <span class="op">=</span> pd.read_csv(<span class="st">"dev/routes_wide.csv"</span>)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; name 'pd' is not defined</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>imputer <span class="op">=</span> KNNImputer()</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; name 'KNNImputer' is not defined</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>df_knn_imputed <span class="op">=</span> pd.DataFrame(imputer.fit_transform(routes_wide.drop(columns <span class="op">=</span> [<span class="st">'run_id'</span>, <span class="st">'route_id'</span>])))</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; name 'pd' is not defined</span></span></code></pre></div>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># set up df of imputed data in R</span></span>
<span><span class="va">x_event</span> <span class="op">=</span> <span class="va">py</span><span class="op">$</span><span class="va">df_knn_imputed</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'py' not found</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">x_event</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">routes_wide</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">route_id</span>, <span class="va">run_id</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error: object 'x_event' not found</span></span>
<span></span>
<span><span class="va">routes_imputed</span> <span class="op">=</span> </span>
<span>  <span class="va">routes_wide</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">route_id</span>, <span class="va">run_id</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_cols.html" class="external-link">bind_cols</a></span><span class="op">(</span><span class="va">x_event</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error: object 'x_event' not found</span></span></code></pre></div>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># try using caret to do knn classification</span></span>
<span></span>
<span><span class="va">routes_imputed</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/View.html" class="external-link">View</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'routes_imputed' not found</span></span>
<span></span>
<span><span class="va">routes_scaled</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">routes_imputed</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>  </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">route_id</span>, <span class="va">run_id</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">scale</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_cols.html" class="external-link">bind_cols</a></span><span class="op">(</span><span class="va">routes_imputed</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">route_id</span>, <span class="va">run_id</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">route_id</span>, <span class="va">run_id</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'routes_imputed' not found</span></span>
<span></span>
<span><span class="co"># https://rpubs.com/pmtam/knn</span></span>
<span></span>
<span><span class="co"># Run algorithms using 10-fold cross validation</span></span>
<span><span class="va">trainControl</span> <span class="op">&lt;-</span> <span class="fu">trainControl</span><span class="op">(</span>method<span class="op">=</span><span class="st">"repeatedcv"</span>, number<span class="op">=</span><span class="fl">10</span>, repeats<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in trainControl(method = "repeatedcv", number = 10, repeats = 3): could not find function "trainControl"</span></span>
<span><span class="va">metric</span> <span class="op">&lt;-</span> <span class="st">"Accuracy"</span></span>
<span></span>
<span><span class="va">grid</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>.k<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">20</span>,by<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fit.knn</span> <span class="op">&lt;-</span> <span class="fu">train</span><span class="op">(</span><span class="va">route_id</span>  <span class="co"># ~ ice_beam,</span></span>
<span>                 <span class="op">~</span> <span class="co"># run_id </span></span>
<span>                   <span class="op">+</span> <span class="va">morph_ball</span> <span class="op">+</span> <span class="va">bombs</span> <span class="op">+</span></span>
<span>      <span class="va">charge_beam</span> <span class="op">+</span> <span class="va">varia_suit</span> <span class="op">+</span> <span class="va">speed_booster</span> <span class="op">+</span></span>
<span>      <span class="va">wave_beam</span> <span class="op">+</span> <span class="va">grapple_beam</span> <span class="op">+</span> <span class="va">ice_beam</span> <span class="op">+</span> <span class="va">gravity_suit</span> <span class="op">+</span></span>
<span>      <span class="va">space_jump</span> <span class="op">+</span> <span class="va">spring_ball</span> <span class="op">+</span></span>
<span>      <span class="va">plasma_beam</span> <span class="op">+</span> <span class="va">screw_attack</span> <span class="op">+</span> <span class="va">spazer</span> <span class="op">+</span></span>
<span>      <span class="va">hi_jump_boots</span> <span class="op">+</span> <span class="va">phantoon</span> <span class="op">+</span> <span class="va">draygon</span> <span class="op">+</span></span>
<span>      <span class="va">ridley</span> <span class="op">+</span> <span class="va">kraid</span> <span class="op">+</span> <span class="va">x_ray</span> <span class="op">+</span> <span class="va">mother_brain</span> <span class="op">+</span> <span class="va">escape</span>, </span>
<span>      data<span class="op">=</span><span class="va">routes_scaled</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">run_id</span><span class="op">)</span>, method<span class="op">=</span><span class="st">"knn"</span>,</span>
<span>                 metric<span class="op">=</span><span class="va">metric</span> ,trControl<span class="op">=</span><span class="va">trainControl</span>, tuneGrid<span class="op">=</span><span class="va">grid</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in train(route_id ~ +morph_ball + bombs + charge_beam + varia_suit + : could not find function "train"</span></span>
<span></span>
<span></span>
<span><span class="va">knn.k1</span> <span class="op">&lt;-</span> <span class="va">fit.knn</span><span class="op">$</span><span class="va">bestTune</span> <span class="co"># keep this Initial k for testing with knn() function in next section</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'fit.knn' not found</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">fit.knn</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'fit.knn' not found</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Charles Gray.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
