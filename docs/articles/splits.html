<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="supermetroid">
<title>splits • supermetroid</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="splits">
<meta property="og:description" content="supermetroid">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">supermetroid</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/data-schema.html">data-schema</a>
    <a class="dropdown-item" href="../articles/identifying-routes.html">identifying-routes</a>
    <a class="dropdown-item" href="../articles/player-locations.html">player-locations</a>
    <a class="dropdown-item" href="../articles/player-rank.html">sio-player-rank</a>
    <a class="dropdown-item" href="../articles/route-graph.html">route-graph</a>
    <a class="dropdown-item" href="../articles/route-matching.html">route-matching</a>
    <a class="dropdown-item" href="../articles/sio.html">sio</a>
    <a class="dropdown-item" href="../articles/splits.html">splits</a>
    <a class="dropdown-item" href="../articles/src.html">src</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>splits</h1>
            
      
      
      <div class="d-none name"><code>splits.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://softloud.github.io/supermetroid/">supermetroid</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gt.rstudio.com/" class="external-link">gt</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="this-document-updates-splitsio-df-for-the-analysis">This document updates splitsio df for the analysis<a class="anchor" aria-label="anchor" href="#this-document-updates-splitsio-df-for-the-analysis"></a>
</h3>
</div>
<div class="section level3">
<h3 id="get-segment-labels">Get segment labels<a class="anchor" aria-label="anchor" href="#get-segment-labels"></a>
</h3>
<p>Splits, or segments, measure at what time a game event happens, and
how long a player took to get there from their previous segment.</p>
<div class="section level4">
<h4 id="unique-split-id">Unique split id?<a class="anchor" aria-label="anchor" href="#unique-split-id"></a>
</h4>
<p>Although segments are chosen by a program, so far we’ve only found
the player labels for each split or segment. Players can define their
own segments and labels, too, so we don’t want to confuse those points
with others.</p>
<p>On the other hand we don’t want to keep <code>bomb</code> and throw
out all the <code>bombs</code> with the bathwater.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">labels_dat</span> <span class="op">&lt;-</span> </span>
<span>  <span class="co"># pull columns for this analysis from splits data</span></span>
<span>  <span class="va">sio_splits_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">player_name</span>, <span class="va">game_event</span>, <span class="va">name</span>, <span class="va">segment_number</span>, <span class="va">run_id</span>, <span class="va">player_id</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    <span class="co"># create a lower-case label </span></span>
<span>    label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">game_event</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="va">labels_dat</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   player_name           game_event                 name segment_number run_id</span></span>
<span><span class="co">#&gt; 0  anatomecha        Morphing Ball        Morphing Ball              0   ato1</span></span>
<span><span class="co">#&gt; 1  anatomecha       First Missiles       First Missiles              1   ato1</span></span>
<span><span class="co">#&gt; 2  anatomecha                 Bomb                 Bomb              2   ato1</span></span>
<span><span class="co">#&gt; 3  anatomecha First Super Missiles First Super Missiles              3   ato1</span></span>
<span><span class="co">#&gt; 4  anatomecha          Charge Beam          Charge Beam              4   ato1</span></span>
<span><span class="co">#&gt; 5  anatomecha               Spazer               Spazer              5   ato1</span></span>
<span><span class="co">#&gt;   player_id                label</span></span>
<span><span class="co">#&gt; 0     89646        morphing ball</span></span>
<span><span class="co">#&gt; 1     89646       first missiles</span></span>
<span><span class="co">#&gt; 2     89646                 bomb</span></span>
<span><span class="co">#&gt; 3     89646 first super missiles</span></span>
<span><span class="co">#&gt; 4     89646          charge beam</span></span>
<span><span class="co">#&gt; 5     89646               spazer</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="most-common-labels">Most common labels<a class="anchor" aria-label="anchor" href="#most-common-labels"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">label_counts</span> <span class="op">&lt;-</span> </span>
<span><span class="va">labels_dat</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    starts_with <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_sub.html" class="external-link">str_sub</a></span><span class="op">(</span><span class="va">label</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">starts_with</span>, <span class="va">label</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">starts_with</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">label_counts</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">starts_with</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>  </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">n</span> <span class="op">&gt;</span> <span class="fl">50</span><span class="op">)</span></span>
<span><span class="co">#&gt;                   label   n</span></span>
<span><span class="co">#&gt; 1            space jump 411</span></span>
<span><span class="co">#&gt; 2          screw attack 360</span></span>
<span><span class="co">#&gt; 3                 bombs 339</span></span>
<span><span class="co">#&gt; 4          gravity suit 326</span></span>
<span><span class="co">#&gt; 5              phantoon 294</span></span>
<span><span class="co">#&gt; 6           plasma beam 271</span></span>
<span><span class="co">#&gt; 7         speed booster 262</span></span>
<span><span class="co">#&gt; 8            varia suit 259</span></span>
<span><span class="co">#&gt; 9           spring ball 257</span></span>
<span><span class="co">#&gt; 10            wave beam 252</span></span>
<span><span class="co">#&gt; 11             ice beam 248</span></span>
<span><span class="co">#&gt; 12          charge beam 231</span></span>
<span><span class="co">#&gt; 13         grapple beam 207</span></span>
<span><span class="co">#&gt; 14               spazer 203</span></span>
<span><span class="co">#&gt; 15                x-ray 203</span></span>
<span><span class="co">#&gt; 16             golden 4 154</span></span>
<span><span class="co">#&gt; 17                varia 154</span></span>
<span><span class="co">#&gt; 18           morph ball 153</span></span>
<span><span class="co">#&gt; 19        ridley e-tank 143</span></span>
<span><span class="co">#&gt; 20               ridley 142</span></span>
<span><span class="co">#&gt; 21                   g4 119</span></span>
<span><span class="co">#&gt; 22      ridley's e-tank 115</span></span>
<span><span class="co">#&gt; 23          x-ray scope 115</span></span>
<span><span class="co">#&gt; 24              botwoon 113</span></span>
<span><span class="co">#&gt; 25        turtle e-tank 113</span></span>
<span><span class="co">#&gt; 26              grapple 112</span></span>
<span><span class="co">#&gt; 27          golden four 105</span></span>
<span><span class="co">#&gt; 28              gravity 105</span></span>
<span><span class="co">#&gt; 29              escape!  96</span></span>
<span><span class="co">#&gt; 30                kraid  94</span></span>
<span><span class="co">#&gt; 31         mother brain  93</span></span>
<span><span class="co">#&gt; 32              draygon  91</span></span>
<span><span class="co">#&gt; 33               escape  91</span></span>
<span><span class="co">#&gt; 34       kraid missiles  84</span></span>
<span><span class="co">#&gt; 35        hi-jump boots  82</span></span>
<span><span class="co">#&gt; 36            crocomire  72</span></span>
<span><span class="co">#&gt; 37       grappling beam  72</span></span>
<span><span class="co">#&gt; 38          bomb torizo  71</span></span>
<span><span class="co">#&gt; 39            ss supers  71</span></span>
<span><span class="co">#&gt; 40             any% pbs  70</span></span>
<span><span class="co">#&gt; 41               plasma  70</span></span>
<span><span class="co">#&gt; 42          crab supers  66</span></span>
<span><span class="co">#&gt; 43                  ice  63</span></span>
<span><span class="co">#&gt; 44                boots  62</span></span>
<span><span class="co">#&gt; 45         early supers  59</span></span>
<span><span class="co">#&gt; 46 watering hole supers  59</span></span>
<span><span class="co">#&gt; 47        golden torizo  57</span></span>
<span><span class="co">#&gt; 48  green hill missiles  57</span></span>
<span><span class="co">#&gt; 49         kraid e-tank  56</span></span>
<span><span class="co">#&gt; 50       etecoon supers  53</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># write labels to sheet for labelling </span></span>
<span><span class="co"># https://docs.google.com/spreadsheets/d/1FRHsS7WQvVhI5_yP-twHCJW2YRJRbeKg4P42EY3Jzrk/edit#gid=1079532092</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">label_counts</span>, <span class="st">"data-raw/sio-label-counts.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">relabels</span> <span class="op">&lt;-</span> <span class="fu">googlesheets4</span><span class="fu">::</span><span class="fu"><a href="https://googlesheets4.tidyverse.org/reference/range_read.html" class="external-link">read_sheet</a></span><span class="op">(</span><span class="st">"https://docs.google.com/spreadsheets/d/1FRHsS7WQvVhI5_yP-twHCJW2YRJRbeKg4P42EY3Jzrk/edit#gid=1079532092"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">relabels</span>, <span class="st">"data-raw/sio-relabels.csv"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="add-labels">Add labels<a class="anchor" aria-label="anchor" href="#add-labels"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">relabels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"../data-raw/sio-relabels.csv"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">label</span>, <span class="va">supermetroid_label</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">2563</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">4</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">chr</span> (3): starts_with, label, supermetroid_label</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">dbl</span> (1): n</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">sio_relabelled</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">sio_splits_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>      label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">game_event</span><span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">relabels</span>, by <span class="op">=</span> <span class="st">"label"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="co"># replace label values</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">supermetroid_label</span><span class="op">)</span>, <span class="va">supermetroid_label</span>, <span class="va">label</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">game_event</span>, <span class="op">-</span><span class="va">name</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains</a></span><span class="op">(</span><span class="st">"label"</span><span class="op">)</span>, <span class="va">player_name</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains</a></span><span class="op">(</span><span class="st">"realtime"</span><span class="op">)</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># there now, that's looking better</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sio_relabelled</span><span class="op">)</span></span>
<span><span class="co">#&gt;                  label supermetroid_label player_name realtime_start_ms</span></span>
<span><span class="co">#&gt; 1           morph ball         morph ball  anatomecha                 0</span></span>
<span><span class="co">#&gt; 2       first missiles               &lt;NA&gt;  anatomecha            200835</span></span>
<span><span class="co">#&gt; 3                bombs              bombs  anatomecha            224926</span></span>
<span><span class="co">#&gt; 4 first super missiles               &lt;NA&gt;  anatomecha            358321</span></span>
<span><span class="co">#&gt; 5          charge beam        charge beam  anatomecha            589662</span></span>
<span><span class="co">#&gt; 6               spazer             spazer  anatomecha            709962</span></span>
<span><span class="co">#&gt;   realtime_duration_ms realtime_end_ms realtime_shortest_duration_ms</span></span>
<span><span class="co">#&gt; 1               200835          200835                        200835</span></span>
<span><span class="co">#&gt; 2                24091          224926                         23286</span></span>
<span><span class="co">#&gt; 3               133395          358321                        129371</span></span>
<span><span class="co">#&gt; 4               231341          589662                        227335</span></span>
<span><span class="co">#&gt; 5               120300          709962                        120299</span></span>
<span><span class="co">#&gt; 6                97876          807838                         95884</span></span>
<span><span class="co">#&gt;   realtime_gold segment_number                           segment_id run_id</span></span>
<span><span class="co">#&gt; 1          TRUE              0 69d90da3-1634-4af4-9096-419a32bedd0a   ato1</span></span>
<span><span class="co">#&gt; 2         FALSE              1 fad50319-d55b-460e-923a-c416f233daea   ato1</span></span>
<span><span class="co">#&gt; 3         FALSE              2 089daf0b-64c3-4eec-8902-022335b2b179   ato1</span></span>
<span><span class="co">#&gt; 4         FALSE              3 2a215dcd-2989-4939-8558-a7215904dfd1   ato1</span></span>
<span><span class="co">#&gt; 5         FALSE              4 e906991d-e919-47c1-a809-2b4da9b67461   ato1</span></span>
<span><span class="co">#&gt; 6         FALSE              5 10439232-43c7-4752-afb9-ee23782da4a9   ato1</span></span>
<span><span class="co">#&gt;   player_id</span></span>
<span><span class="co">#&gt; 1     89646</span></span>
<span><span class="co">#&gt; 2     89646</span></span>
<span><span class="co">#&gt; 3     89646</span></span>
<span><span class="co">#&gt; 4     89646</span></span>
<span><span class="co">#&gt; 5     89646</span></span>
<span><span class="co">#&gt; 6     89646</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># check out counts now</span></span>
<span><span class="va">sio_relabelled</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">label</span>, <span class="va">supermetroid_label</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">n</span> <span class="op">&gt;</span> <span class="fl">50</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="yqekbjmdld" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#yqekbjmdld table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#yqekbjmdld thead, #yqekbjmdld tbody, #yqekbjmdld tfoot, #yqekbjmdld tr, #yqekbjmdld td, #yqekbjmdld th {
  border-style: none;
}

#yqekbjmdld p {
  margin: 0;
  padding: 0;
}

#yqekbjmdld .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#yqekbjmdld .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#yqekbjmdld .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#yqekbjmdld .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#yqekbjmdld .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yqekbjmdld .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yqekbjmdld .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yqekbjmdld .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#yqekbjmdld .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#yqekbjmdld .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#yqekbjmdld .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#yqekbjmdld .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#yqekbjmdld .gt_spanner_row {
  border-bottom-style: hidden;
}

#yqekbjmdld .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#yqekbjmdld .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#yqekbjmdld .gt_from_md > :first-child {
  margin-top: 0;
}

#yqekbjmdld .gt_from_md > :last-child {
  margin-bottom: 0;
}

#yqekbjmdld .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#yqekbjmdld .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#yqekbjmdld .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#yqekbjmdld .gt_row_group_first td {
  border-top-width: 2px;
}

#yqekbjmdld .gt_row_group_first th {
  border-top-width: 2px;
}

#yqekbjmdld .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yqekbjmdld .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#yqekbjmdld .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#yqekbjmdld .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yqekbjmdld .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yqekbjmdld .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#yqekbjmdld .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#yqekbjmdld .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#yqekbjmdld .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yqekbjmdld .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yqekbjmdld .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#yqekbjmdld .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yqekbjmdld .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#yqekbjmdld .gt_left {
  text-align: left;
}

#yqekbjmdld .gt_center {
  text-align: center;
}

#yqekbjmdld .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#yqekbjmdld .gt_font_normal {
  font-weight: normal;
}

#yqekbjmdld .gt_font_bold {
  font-weight: bold;
}

#yqekbjmdld .gt_font_italic {
  font-style: italic;
}

#yqekbjmdld .gt_super {
  font-size: 65%;
}

#yqekbjmdld .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#yqekbjmdld .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#yqekbjmdld .gt_indent_1 {
  text-indent: 5px;
}

#yqekbjmdld .gt_indent_2 {
  text-indent: 10px;
}

#yqekbjmdld .gt_indent_3 {
  text-indent: 15px;
}

#yqekbjmdld .gt_indent_4 {
  text-indent: 20px;
}

#yqekbjmdld .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="label">label</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="supermetroid_label">supermetroid_label</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="n">n</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="label" class="gt_row gt_left">space jump</td>
<td headers="supermetroid_label" class="gt_row gt_left">space jump</td>
<td headers="n" class="gt_row gt_right">450</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">varia suit</td>
<td headers="supermetroid_label" class="gt_row gt_left">varia suit</td>
<td headers="n" class="gt_row gt_right">425</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">grapple beam</td>
<td headers="supermetroid_label" class="gt_row gt_left">grapple beam</td>
<td headers="n" class="gt_row gt_right">405</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">screw attack</td>
<td headers="supermetroid_label" class="gt_row gt_left">screw attack</td>
<td headers="n" class="gt_row gt_right">404</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">bombs</td>
<td headers="supermetroid_label" class="gt_row gt_left">bombs</td>
<td headers="n" class="gt_row gt_right">399</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">x-ray</td>
<td headers="supermetroid_label" class="gt_row gt_left">x-ray</td>
<td headers="n" class="gt_row gt_right">359</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">plasma beam</td>
<td headers="supermetroid_label" class="gt_row gt_left">plasma beam</td>
<td headers="n" class="gt_row gt_right">342</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">gravity suit</td>
<td headers="supermetroid_label" class="gt_row gt_left">gravity suit</td>
<td headers="n" class="gt_row gt_right">334</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">ice beam</td>
<td headers="supermetroid_label" class="gt_row gt_left">ice beam</td>
<td headers="n" class="gt_row gt_right">324</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">phantoon</td>
<td headers="supermetroid_label" class="gt_row gt_left">phantoon</td>
<td headers="n" class="gt_row gt_right">323</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">speed booster</td>
<td headers="supermetroid_label" class="gt_row gt_left">speed booster</td>
<td headers="n" class="gt_row gt_right">313</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">spring ball</td>
<td headers="supermetroid_label" class="gt_row gt_left">spring ball</td>
<td headers="n" class="gt_row gt_right">289</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">golden 4</td>
<td headers="supermetroid_label" class="gt_row gt_left">golden 4</td>
<td headers="n" class="gt_row gt_right">286</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">wave beam</td>
<td headers="supermetroid_label" class="gt_row gt_left">wave beam</td>
<td headers="n" class="gt_row gt_right">283</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">charge beam</td>
<td headers="supermetroid_label" class="gt_row gt_left">charge beam</td>
<td headers="n" class="gt_row gt_right">232</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">spazer</td>
<td headers="supermetroid_label" class="gt_row gt_left">spazer</td>
<td headers="n" class="gt_row gt_right">218</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">hi-jump boots</td>
<td headers="supermetroid_label" class="gt_row gt_left">hi-jump boots</td>
<td headers="n" class="gt_row gt_right">212</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">morph ball</td>
<td headers="supermetroid_label" class="gt_row gt_left">morph ball</td>
<td headers="n" class="gt_row gt_right">208</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">ridley</td>
<td headers="supermetroid_label" class="gt_row gt_left">ridley</td>
<td headers="n" class="gt_row gt_right">182</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">ridley e-tank</td>
<td headers="supermetroid_label" class="gt_row gt_left">NA</td>
<td headers="n" class="gt_row gt_right">143</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">spore spawn supers</td>
<td headers="supermetroid_label" class="gt_row gt_left">spore spawn supers</td>
<td headers="n" class="gt_row gt_right">136</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">draygon</td>
<td headers="supermetroid_label" class="gt_row gt_left">draygon</td>
<td headers="n" class="gt_row gt_right">121</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">ridley's e-tank</td>
<td headers="supermetroid_label" class="gt_row gt_left">NA</td>
<td headers="n" class="gt_row gt_right">115</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">kraid</td>
<td headers="supermetroid_label" class="gt_row gt_left">kraid</td>
<td headers="n" class="gt_row gt_right">114</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">botwoon</td>
<td headers="supermetroid_label" class="gt_row gt_left">NA</td>
<td headers="n" class="gt_row gt_right">113</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">turtle e-tank</td>
<td headers="supermetroid_label" class="gt_row gt_left">NA</td>
<td headers="n" class="gt_row gt_right">113</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">golden four</td>
<td headers="supermetroid_label" class="gt_row gt_left">NA</td>
<td headers="n" class="gt_row gt_right">105</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">gravity</td>
<td headers="supermetroid_label" class="gt_row gt_left">NA</td>
<td headers="n" class="gt_row gt_right">105</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">crocomire</td>
<td headers="supermetroid_label" class="gt_row gt_left">crocomire</td>
<td headers="n" class="gt_row gt_right">103</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">mother brain</td>
<td headers="supermetroid_label" class="gt_row gt_left">mother brain</td>
<td headers="n" class="gt_row gt_right">99</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">escape!</td>
<td headers="supermetroid_label" class="gt_row gt_left">NA</td>
<td headers="n" class="gt_row gt_right">96</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">first supers</td>
<td headers="supermetroid_label" class="gt_row gt_left">first supers</td>
<td headers="n" class="gt_row gt_right">92</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">escape</td>
<td headers="supermetroid_label" class="gt_row gt_left">NA</td>
<td headers="n" class="gt_row gt_right">91</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">kraid missiles</td>
<td headers="supermetroid_label" class="gt_row gt_left">NA</td>
<td headers="n" class="gt_row gt_right">84</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">bomb torizo</td>
<td headers="supermetroid_label" class="gt_row gt_left">NA</td>
<td headers="n" class="gt_row gt_right">71</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">any% pbs</td>
<td headers="supermetroid_label" class="gt_row gt_left">NA</td>
<td headers="n" class="gt_row gt_right">70</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">crab supers</td>
<td headers="supermetroid_label" class="gt_row gt_left">NA</td>
<td headers="n" class="gt_row gt_right">66</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">watering hole supers</td>
<td headers="supermetroid_label" class="gt_row gt_left">NA</td>
<td headers="n" class="gt_row gt_right">59</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">golden torizo</td>
<td headers="supermetroid_label" class="gt_row gt_left">NA</td>
<td headers="n" class="gt_row gt_right">57</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">green hill missiles</td>
<td headers="supermetroid_label" class="gt_row gt_left">NA</td>
<td headers="n" class="gt_row gt_right">57</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">kraid e-tank</td>
<td headers="supermetroid_label" class="gt_row gt_left">NA</td>
<td headers="n" class="gt_row gt_right">56</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">etecoon supers</td>
<td headers="supermetroid_label" class="gt_row gt_left">NA</td>
<td headers="n" class="gt_row gt_right">53</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sio_df</span> <span class="op">&lt;-</span> <span class="va">sio_relabelled</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">supermetroid_label</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>game_event <span class="op">=</span> <span class="va">label</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sio_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;             game_event player_name realtime_start_ms realtime_duration_ms</span></span>
<span><span class="co">#&gt; 1           morph ball  anatomecha                 0               200835</span></span>
<span><span class="co">#&gt; 2       first missiles  anatomecha            200835                24091</span></span>
<span><span class="co">#&gt; 3                bombs  anatomecha            224926               133395</span></span>
<span><span class="co">#&gt; 4 first super missiles  anatomecha            358321               231341</span></span>
<span><span class="co">#&gt; 5          charge beam  anatomecha            589662               120300</span></span>
<span><span class="co">#&gt; 6               spazer  anatomecha            709962                97876</span></span>
<span><span class="co">#&gt;   realtime_end_ms realtime_shortest_duration_ms realtime_gold segment_number</span></span>
<span><span class="co">#&gt; 1          200835                        200835          TRUE              0</span></span>
<span><span class="co">#&gt; 2          224926                         23286         FALSE              1</span></span>
<span><span class="co">#&gt; 3          358321                        129371         FALSE              2</span></span>
<span><span class="co">#&gt; 4          589662                        227335         FALSE              3</span></span>
<span><span class="co">#&gt; 5          709962                        120299         FALSE              4</span></span>
<span><span class="co">#&gt; 6          807838                         95884         FALSE              5</span></span>
<span><span class="co">#&gt;                             segment_id run_id player_id</span></span>
<span><span class="co">#&gt; 1 69d90da3-1634-4af4-9096-419a32bedd0a   ato1     89646</span></span>
<span><span class="co">#&gt; 2 fad50319-d55b-460e-923a-c416f233daea   ato1     89646</span></span>
<span><span class="co">#&gt; 3 089daf0b-64c3-4eec-8902-022335b2b179   ato1     89646</span></span>
<span><span class="co">#&gt; 4 2a215dcd-2989-4939-8558-a7215904dfd1   ato1     89646</span></span>
<span><span class="co">#&gt; 5 e906991d-e919-47c1-a809-2b4da9b67461   ato1     89646</span></span>
<span><span class="co">#&gt; 6 10439232-43c7-4752-afb9-ee23782da4a9   ato1     89646</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># not run</span></span>
<span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_data.html" class="external-link">use_data</a></span><span class="op">(</span><span class="va">sio_df</span>, overwrite<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="selected-splits">Selected splits<a class="anchor" aria-label="anchor" href="#selected-splits"></a>
</h3>
<p>Select most common splits used by players.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sio_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">game_event</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span></span>
<span>    n_runners <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/n_distinct.html" class="external-link">n_distinct</a></span><span class="op">(</span><span class="va">player_id</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">n_runners</span> <span class="op">&lt;</span> <span class="fl">20</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">n_runners</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span>fill<span class="op">=</span><span class="va">sm_col_h</span><span class="op">$</span><span class="va">label</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/theme_sm.html">theme_sm</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Counts of runners for splits"</span><span class="op">)</span></span>
<span><span class="co">#&gt; `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span></span></code></pre></div>
<p><img src="splits_files/figure-html/unnamed-chunk-12-1.png" width="768" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">common_splits</span> <span class="op">&lt;-</span></span>
<span>  <span class="co"># get standard order - recorded by at least 30 runners</span></span>
<span>  <span class="va">sio_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">game_event</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span></span>
<span>    n_runners <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/n_distinct.html" class="external-link">n_distinct</a></span><span class="op">(</span><span class="va">player_id</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">n_runners</span> <span class="op">&gt;=</span> <span class="fl">30</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">n_runners</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">common_splits</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 19 × 2</span></span></span>
<span><span class="co">#&gt;    game_event    n_runners</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> varia suit           80</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> bombs                75</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> space jump           75</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> grapple beam         72</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> screw attack         68</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> x-ray                68</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> ice beam             63</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> plasma beam          58</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> speed booster        58</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> phantoon             56</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> gravity suit         55</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> golden 4             54</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> wave beam            49</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> spring ball          45</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> charge beam          37</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> morph ball           37</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">17</span> hi-jump boots        35</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">18</span> spazer               33</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">19</span> ridley               30</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># not run</span></span>
<span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_data.html" class="external-link">use_data</a></span><span class="op">(</span><span class="va">common_splits</span>, overwrite<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="what-routes-do-people-take">What routes do people take?<a class="anchor" aria-label="anchor" href="#what-routes-do-people-take"></a>
</h3>
<p>Oh this code is all borked and from early experimental phase from
here. Waiting to copy-paste, etc.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">routes_raw</span> <span class="op">&lt;-</span> </span>
<span><span class="va">sio_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">supermetroid_label</span>, <span class="va">player_name</span>, split_order <span class="op">=</span> <span class="va">segment_number</span>, <span class="va">realtime_end_ms</span>, <span class="va">run_id</span>, <span class="va">player_id</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co"># get just the universal splits</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">supermetroid_label</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `select()`:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Can't subset columns that don't exist.</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> Column `supermetroid_label` doesn't exist.</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">splits_orders</span> <span class="op">&lt;-</span> </span>
<span><span class="va">routes_raw</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">supermetroid_label</span>, <span class="va">split_order</span>, <span class="va">run_id</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'routes_raw' not found</span></span>
<span></span>
<span><span class="va">nested_splits</span> <span class="op">&lt;-</span> </span>
<span><span class="va">splits_orders</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">run_id</span>, <span class="va">split_order</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">split_order</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">run_id</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html" class="external-link">nest</a></span><span class="op">(</span>splits <span class="op">=</span> <span class="va">supermetroid_label</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">splits</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html" class="external-link">nest</a></span><span class="op">(</span>runs <span class="op">=</span> <span class="va">run_id</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    route_length <span class="op">=</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_int</a></span><span class="op">(</span><span class="va">splits</span>, <span class="va">nrow</span><span class="op">)</span>,</span>
<span>    route_id <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_c.html" class="external-link">str_c</a></span><span class="op">(</span><span class="st">"route "</span>, <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">route_length</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'splits_orders' not found</span></span>
<span>  </span>
<span><span class="va">nested_splits</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'nested_splits' not found</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">routes</span> <span class="op">&lt;-</span> </span>
<span><span class="va">nested_splits</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># head() %&gt;% </span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>event <span class="op">=</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">splits</span>, \<span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">common_splits</span>, by <span class="op">=</span> <span class="st">"supermetroid_label"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         route_anatomecha <span class="op">=</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">event</span>, \<span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">split_anatomecha</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">split_anatomecha</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         route_standard <span class="op">=</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_lgl</a></span><span class="op">(</span><span class="va">route_anatomecha</span>,</span>
<span>                                  \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">==</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span>         <span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'nested_splits' not found</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="time-vs-cumulative-time-by-splits">time vs cumulative time by splits<a class="anchor" aria-label="anchor" href="#time-vs-cumulative-time-by-splits"></a>
</h3>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># dashboard this for y axis</span></span>
<span><span class="co"># dashboard this for x axis, too selector tool with tick boxes, select all, clear</span></span>
<span></span>
<span><span class="co"># plot &lt;- </span></span>
<span>  <span class="va">sio_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">common_splits</span>, by <span class="op">=</span> <span class="st">"supermetroid_label"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">supermetroid_label</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>split_anatomecha <span class="op">=</span> <span class="fu"><a href="https://forcats.tidyverse.org/reference/as_factor.html" class="external-link">as_factor</a></span><span class="op">(</span><span class="va">split_anatomecha</span><span class="op">)</span>,</span>
<span>         t_h <span class="op">=</span> <span class="va">realtime_end_ms</span><span class="op">/</span><span class="fl">1000</span><span class="op">/</span><span class="fl">60</span></span>
<span>         <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">split_anatomecha</span>, y <span class="op">=</span> <span class="va">t_h</span>, group<span class="op">=</span><span class="va">run_id</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>colour<span class="op">=</span><span class="va">sm_cols</span><span class="op">$</span><span class="va">orange</span>, alpha <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>colour<span class="op">=</span><span class="va">sm_cols</span><span class="op">$</span><span class="va">orange</span>, alpha <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/theme_sm.html">theme_sm</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">30</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Players take different routes"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"Real time completion of each game event would be </span></span>
<span><span class="st">      always increasing if all players took the same route as anatomecha"</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_wrap.html" class="external-link">str_wrap</a></span><span class="op">(</span><span class="fl">60</span><span class="op">)</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Game event (loot, boss, etc.)"</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_wrap.html" class="external-link">str_wrap</a></span><span class="op">(</span><span class="fl">12</span><span class="op">)</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Real time completion (minutes)"</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_wrap.html" class="external-link">str_wrap</a></span><span class="op">(</span><span class="fl">20</span><span class="op">)</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"splits.io"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle<span class="op">=</span><span class="fl">90</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html" class="external-link">scale_x_discrete</a></span><span class="op">(</span>labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"start"</span>, <span class="va">game_event</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html" class="external-link">facet_grid</a></span><span class="op">(</span><span class="va">route_standard</span> <span class="op">~</span><span class="va">.</span> <span class="op">)</span> </span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `left_join()`:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Join columns in `x` must be present in the data.</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> Problem with `supermetroid_label`.</span></span>
<span></span>
<span><span class="co"># ggplotly(plot)</span></span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># selected_split &lt;- "ice beam" </span></span>
<span><span class="va">selected_split</span> <span class="op">&lt;-</span> <span class="st">"ice beam"</span><span class="co"># sample(game_event, 1)</span></span>
<span><span class="va">rank</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">25</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#xlim &lt;- c(0.8, 1.2)</span></span>
<span></span>
<span><span class="co"># +</span></span>
<span><span class="co">#   xlim(xlim[1], xlim[2])</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="towards-the-best-route">Towards the best route<a class="anchor" aria-label="anchor" href="#towards-the-best-route"></a>
</h2>
<div class="section level3">
<h3 id="identifying-clusters">identifying clusters<a class="anchor" aria-label="anchor" href="#identifying-clusters"></a>
</h3>
<div class="section level4">
<h4 id="try-knn">Try <a href="https://stats.stackexchange.com/questions/318968/knn-and-k-folding-in-r" class="external-link">knn</a><a class="anchor" aria-label="anchor" href="#try-knn"></a>
</h4>
<p>Wide-form array: - columns as events - rows as routes - values as
mean event time</p>
<p>I think this should work on individual observations.</p>
<ol style="list-style-type: decimal">
<li>Get an array of segments</li>
<li>Set an n-fold cross validation</li>
<li>Evaluated the accuracy of the KNn classifer with different values of
k by cross validation</li>
</ol>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get an array of segments</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="identifying-clusters-1">identifying clusters<a class="anchor" aria-label="anchor" href="#identifying-clusters-1"></a>
</h3>
<p>Try taking the mean value of each event of each route, then imputing
the missing values from local means. How to impute via local mean? That
is, need to impute, conditional on the other values in the array. Need
to read about imputation. Perhaps I should just write my own imputation,
I think I could calculate that. Then apply hierarchical clustering to
find out which.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create wideform array</span></span>
<span><span class="va">routes_wide</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">routes_raw</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>game_event <span class="op">=</span> <span class="va">supermetroid_label</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">run_id</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">realtime_end_ms</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">realtime_end_ms</span><span class="op">)</span>,</span>
<span>           <span class="va">game_event</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">game_event</span></span>
<span>           <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="co"># dplyr::group_by(run_id, game_event) %&gt;%</span></span>
<span>    <span class="co"># dplyr::summarise(n = dplyr::n(), .groups = "drop") %&gt;%</span></span>
<span>    <span class="co"># dplyr::filter(n &gt; 1L) </span></span>
<span>    <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span>id_cols <span class="op">=</span> <span class="st">"run_id"</span>, </span>
<span>                names_from <span class="op">=</span> <span class="st">"game_event"</span>, </span>
<span>                values_from <span class="op">=</span> <span class="st">"realtime_end_ms"</span><span class="op">)</span> </span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'routes_raw' not found</span></span></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/topepo/caret/" class="external-link">caret</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: lattice</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'caret'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:purrr':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     lift</span></span>
<span></span>
<span><span class="va">trControl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/caret/man/trainControl.html" class="external-link">trainControl</a></span><span class="op">(</span>method  <span class="op">=</span> <span class="st">"cv"</span>,</span>
<span>                          number  <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/caret/man/train.html" class="external-link">train</a></span><span class="op">(</span><span class="va">supermetroid_label</span> <span class="op">~</span> <span class="va">realtime_end_ms</span>,</span>
<span>             method     <span class="op">=</span> <span class="st">"knn"</span>,</span>
<span>             tuneGrid   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>k <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>,</span>
<span>             trControl  <span class="op">=</span> <span class="va">trControl</span>,</span>
<span>             metric     <span class="op">=</span> <span class="st">"Accuracy"</span>,</span>
<span>             data       <span class="op">=</span> <span class="va">routes_raw</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, p): object 'routes_raw' not found</span></span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">routes_wide</span> <span class="op">&lt;-</span> </span>
<span><span class="va">routes</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">route_id</span>, <span class="va">runs</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="va">runs</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">sio_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">split</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">game_event</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">run_id</span>,</span>
<span>                     <span class="va">realtime_end_ms</span>, <span class="va">split</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">run_id</span>, <span class="va">split</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">realtime_end_ms</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">realtime_end_ms</span><span class="op">)</span><span class="op">)</span>, </span>
<span>            by <span class="op">=</span> <span class="st">"run_id"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">route_id</span>, <span class="va">run_id</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co"># 0 entries must be corrupt?</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">realtime_end_ms</span> <span class="op">!=</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span>names_from <span class="op">=</span> <span class="st">"split"</span>, values_from <span class="op">=</span> <span class="st">"realtime_end_ms"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://sfirke.github.io/janitor/reference/clean_names.html" class="external-link">clean_names</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'routes' not found</span></span></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sio_routes_wide</span> <span class="op">&lt;-</span> <span class="va">routes_wide</span></span>
<span></span>
<span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_data.html" class="external-link">use_data</a></span><span class="op">(</span><span class="va">sio_routes_wide</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/topepo/caret/" class="external-link">caret</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">preProcValues</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/caret/man/preProcess.html" class="external-link">preProcess</a></span><span class="op">(</span><span class="va">routes_wide</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">run_id</span>, <span class="va">route_id</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'routes_wide' not found</span></span>
<span></span>
<span><span class="va">trControl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/caret/man/trainControl.html" class="external-link">trainControl</a></span><span class="op">(</span>method  <span class="op">=</span> <span class="st">"cv"</span>,</span>
<span>                          number  <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># routes_wide %&gt;% names() %&gt;% paste(collapse ="+") %&gt;%  cat()</span></span>
<span><span class="va">fit</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/caret/man/train.html" class="external-link">train</a></span><span class="op">(</span></span>
<span>    <span class="va">route_id</span> <span class="op">~</span> <span class="va">morph_ball</span> <span class="op">+</span> <span class="va">bombs</span> <span class="op">+</span></span>
<span>      <span class="va">charge_beam</span> <span class="op">+</span> <span class="va">varia_suit</span> <span class="op">+</span> <span class="va">speed_booster</span> <span class="op">+</span></span>
<span>      <span class="va">wave_beam</span> <span class="op">+</span> <span class="va">grapple_beam</span> <span class="op">+</span> <span class="va">ice_beam</span> <span class="op">+</span> <span class="va">gravity_suit</span> <span class="op">+</span></span>
<span>      <span class="va">space_jump</span> <span class="op">+</span> <span class="va">spring_ball</span> <span class="op">+</span></span>
<span>      <span class="va">plasma_beam</span> <span class="op">+</span> <span class="va">screw_attack</span> <span class="op">+</span> <span class="va">spazer</span> <span class="op">+</span></span>
<span>      <span class="va">hi_jump_boots</span> <span class="op">+</span> <span class="va">phantoon</span> <span class="op">+</span> <span class="va">draygon</span> <span class="op">+</span></span>
<span>      <span class="va">ridley</span> <span class="op">+</span> <span class="va">kraid</span> <span class="op">+</span> <span class="va">x_ray</span> <span class="op">+</span> <span class="va">mother_brain</span> <span class="op">+</span> <span class="va">escape</span>,</span>
<span>    method     <span class="op">=</span> <span class="st">"knn"</span>,</span>
<span>    tuneGrid   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>k <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>,</span>
<span>    trControl  <span class="op">=</span> <span class="va">trControl</span>,</span>
<span>    metric     <span class="op">=</span> <span class="st">"Accuracy"</span>,</span>
<span>    data       <span class="op">=</span> <span class="va">routes_wide</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, p): object 'routes_wide' not found</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">preProcValues</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'preProcValues' not found</span></span></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ice_beam</span> <span class="op">&lt;-</span> </span>
<span><span class="va">routes_wide</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">route_id</span>, <span class="va">route_id</span>, <span class="va">ice_beam</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">route_id</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span></span>
<span>    ice_beam <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">ice_beam</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">ice_beam</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'routes_wide' not found</span></span>
<span></span>
<span><span class="va">clusters</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/dist.html" class="external-link">dist</a></span><span class="op">(</span><span class="va">ice_beam</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/hclust.html" class="external-link">hclust</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'ice_beam' not found</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">clusters</span>, labels <span class="op">=</span> <span class="va">ice_beam</span><span class="op">$</span><span class="va">route_id</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'clusters' not found</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/andrie/ggdendro" class="external-link">ggdendro</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/ggdendro/man/ggdendrogram.html" class="external-link">ggdendrogram</a></span><span class="op">(</span><span class="va">clusters</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'clusters' not found</span></span></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># fuckit write csv</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">routes_wide</span>, <span class="st">"dev/routes_wide.csv"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb27"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a><span class="im">from</span> sklearn.impute <span class="im">import</span> KNNImputer</span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" tabindex="-1"></a>routes_wide <span class="op">=</span> pd.read_csv(<span class="st">"dev/routes_wide.csv"</span>)</span>
<span id="cb27-5"><a href="#cb27-5" tabindex="-1"></a><span class="co">#&gt; Error: NameError: name 'pd' is not defined</span></span>
<span id="cb27-6"><a href="#cb27-6" tabindex="-1"></a>imputer <span class="op">=</span> KNNImputer()</span>
<span id="cb27-7"><a href="#cb27-7" tabindex="-1"></a></span>
<span id="cb27-8"><a href="#cb27-8" tabindex="-1"></a>df_knn_imputed <span class="op">=</span> pd.DataFrame(imputer.fit_transform(routes_wide.drop(columns <span class="op">=</span> [<span class="st">'run_id'</span>, <span class="st">'route_id'</span>])))</span>
<span id="cb27-9"><a href="#cb27-9" tabindex="-1"></a><span class="co">#&gt; Error: NameError: name 'pd' is not defined</span></span></code></pre></div>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># set up df of imputed data in R</span></span>
<span><span class="va">x_event</span> <span class="op">=</span> <span class="va">py</span><span class="op">$</span><span class="va">df_knn_imputed</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'py' not found</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">x_event</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">routes_wide</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">route_id</span>, <span class="va">run_id</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'routes_wide' not found</span></span>
<span></span>
<span><span class="va">routes_imputed</span> <span class="op">=</span> </span>
<span>  <span class="va">routes_wide</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">route_id</span>, <span class="va">run_id</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_cols.html" class="external-link">bind_cols</a></span><span class="op">(</span><span class="va">x_event</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'routes_wide' not found</span></span></code></pre></div>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># try using caret to do knn classification</span></span>
<span></span>
<span><span class="va">routes_imputed</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/View.html" class="external-link">View</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'routes_imputed' not found</span></span>
<span></span>
<span><span class="va">routes_scaled</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">routes_imputed</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>  </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">route_id</span>, <span class="va">run_id</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">scale</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_cols.html" class="external-link">bind_cols</a></span><span class="op">(</span><span class="va">routes_imputed</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">route_id</span>, <span class="va">run_id</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">route_id</span>, <span class="va">run_id</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'routes_imputed' not found</span></span>
<span></span>
<span><span class="co"># https://rpubs.com/pmtam/knn</span></span>
<span></span>
<span><span class="co"># Run algorithms using 10-fold cross validation</span></span>
<span><span class="va">trainControl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/caret/man/trainControl.html" class="external-link">trainControl</a></span><span class="op">(</span>method<span class="op">=</span><span class="st">"repeatedcv"</span>, number<span class="op">=</span><span class="fl">10</span>, repeats<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">metric</span> <span class="op">&lt;-</span> <span class="st">"Accuracy"</span></span>
<span></span>
<span><span class="va">grid</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>.k<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">20</span>,by<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fit.knn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/caret/man/train.html" class="external-link">train</a></span><span class="op">(</span><span class="va">route_id</span>  <span class="co"># ~ ice_beam,</span></span>
<span>                 <span class="op">~</span> <span class="co"># run_id </span></span>
<span>                   <span class="op">+</span> <span class="va">morph_ball</span> <span class="op">+</span> <span class="va">bombs</span> <span class="op">+</span></span>
<span>      <span class="va">charge_beam</span> <span class="op">+</span> <span class="va">varia_suit</span> <span class="op">+</span> <span class="va">speed_booster</span> <span class="op">+</span></span>
<span>      <span class="va">wave_beam</span> <span class="op">+</span> <span class="va">grapple_beam</span> <span class="op">+</span> <span class="va">ice_beam</span> <span class="op">+</span> <span class="va">gravity_suit</span> <span class="op">+</span></span>
<span>      <span class="va">space_jump</span> <span class="op">+</span> <span class="va">spring_ball</span> <span class="op">+</span></span>
<span>      <span class="va">plasma_beam</span> <span class="op">+</span> <span class="va">screw_attack</span> <span class="op">+</span> <span class="va">spazer</span> <span class="op">+</span></span>
<span>      <span class="va">hi_jump_boots</span> <span class="op">+</span> <span class="va">phantoon</span> <span class="op">+</span> <span class="va">draygon</span> <span class="op">+</span></span>
<span>      <span class="va">ridley</span> <span class="op">+</span> <span class="va">kraid</span> <span class="op">+</span> <span class="va">x_ray</span> <span class="op">+</span> <span class="va">mother_brain</span> <span class="op">+</span> <span class="va">escape</span>, </span>
<span>      data<span class="op">=</span><span class="va">routes_scaled</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">run_id</span><span class="op">)</span>, method<span class="op">=</span><span class="st">"knn"</span>,</span>
<span>                 metric<span class="op">=</span><span class="va">metric</span> ,trControl<span class="op">=</span><span class="va">trainControl</span>, tuneGrid<span class="op">=</span><span class="va">grid</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, p): object 'routes_scaled' not found</span></span>
<span></span>
<span></span>
<span><span class="va">knn.k1</span> <span class="op">&lt;-</span> <span class="va">fit.knn</span><span class="op">$</span><span class="va">bestTune</span> <span class="co"># keep this Initial k for testing with knn() function in next section</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'fit.knn' not found</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">fit.knn</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'fit.knn' not found</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Charles Gray.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
